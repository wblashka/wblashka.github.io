<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Protocol Designer</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    

    <h1>Protocol Designer</h1>
    
    <input type="file" id="csvFile" accept=".csv" />
    <button id="loadFileButton">Load CSV</button>
    <div id="columns"></div>

    <div id="protocolBuilder">
        <h2>Create Conditions</h2>
        <input type="text" id="conditionName" placeholder="Condition Name">
        <select id="columnSelect1"></select>
        <select id="columnSelect2"></select>
        <select id="conditionType">
            <!-- options are programmatically injected -->
        </select>
        <input type="checkbox" id="conditionInverted">
        <input type="text" id="conditionValue" placeholder="Condition Value" style="display:none;">
        <button id="addConditionButton">Add Condition</button>

        <h2>Condition Tree</h2>
        <div id="conditionTree"></div>
        <button id="addAndButton">Add AND Node</button>
        <button id="addOrButton">Add OR Node</button>
        <button id="saveProtocolButton">Save Protocol</button>
        <button id="editConditionButton" style="display: none;">Edit selected</button>
    </div>
    <div id="editConditionPopup" class="popup" style="display: none;">
        <h3>Edit Condition</h3>
        <h4 id="showEditConditionID"></h4>
        <label>Name: <input type="text" id="editConditionName" /></label><br />
        <label>Type: 
          <select id="editConditionType">
            <!-- options are programmatically injected -->
          </select>
        </label><br />
        <label>Column 1: <select id="editColumn1"></select></label><br />
        <label>Column 2: <select id="editColumn2"></select></label><br />
        <label>Inverted: <input type="checkbox" id="conditionInverted"></label><br />
        <label>Value: <input type="text" id="editConditionValue" /></label><br />
        <button id="saveConditionChanges">Save</button>
        <button id="cancelEditCondition">Cancel</button>
      </div>

    <!-- Context menu for right click -->
    <ul id="rightClickContextMenu" class="context-menu" style="display: none;position: absolute;">
        <li id="deleteCondition">Delete</li>
        <li id="editCondition">Edit</li>
    </ul>

    <script type= "module" src="protocol-designer-script.js"></script>
</body>
</html>
